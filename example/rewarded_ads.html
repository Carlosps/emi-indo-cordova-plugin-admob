<html>
<head>
    <script type="text/javascript" src="cordova.js"></script>
</head>
<body>

<label for="event">Debug Event All response :</label>
<textarea id="event" name="event" rows="5" cols="40"></textarea>

<script>

   let event = document.getElementById('event');

   let cleanText = () => { event.value = '' };
   
    
   
   
   // WARNING config must be an array[] not an object{}
    const config_rewarded = [

    adUnitId = "ca-app-pub-3940256099942544/5224354917",
    autoShow = true

    ]


// how does the onclick button call a function inside the deviceready block? view https://github.com/EMI-INDO/emi-indo-cordova-plugin-admob/blob/main/example/banner_ads.html
// Load Rewarded Ad
let loadRewardedAd = () => {
    cordova.plugins.emiAdmobPlugin.loadRewardedAd(config_rewarded);
    // Or like this
    // cordova.plugins.emiAdmobPlugin.loadRewardedAd([adUnitId = "ca-app-pub-3940256099942544/5224354917", autoShow = false ]);
    // call loadRewardedAd();
}

// Show Rewarded Ad
let showRewardedAd = () => {
    cordova.plugins.emiAdmobPlugin.showRewardedAd();
    // call showRewardedAd();
}


    /////  >>>>>> Device Ready <<<<<<


document.addEventListener("deviceready", function(){

// WARNING config must be an array[] not an object{}
const config_globalSettings = [

// DEPRECATED enableSameAppKey
setAppMuted = false, // Type Boolean default: false
setAppVolume = 1.0, // Type float default: 1
publisherFirstPartyIdEnabled = true, // Type Boolean default: true  // enableSameAppKey
npa = "1", // string "0" | "1" // DEPRECATED Beginning January 16, 2024
enableCollapsible = true, // (BETA) activate the collapsible banner ads
responseInfo = false, // For debugging and logging purposes

]

cordova.plugins.emiAdmobPlugin.globalSettings(config_globalSettings);


// Must be under globalSetting and targeting
cordova.plugins.emiAdmobPlugin.initialize();

// SDK EVENT Initialization
 
document.addEventListener('on.sdkInitialization', () => {

event.value += ("\n On Sdk Initialization");


});


// Rewarded Ad EVENT

/*
on.rewarded.loaded
on.rewarded.failed.load
on.rewarded.click
on.rewarded.dismissed
on.rewarded.failed.show
on.rewarded.impression
on.rewarded.show
on.rewarded.revenue
on.rewarded.ad.skip
on.reward.userEarnedReward
*/


document.addEventListener('on.rewarded.loaded', () => {

event.value += ("\n on.rewarded.loaded");

});

document.addEventListener('on.rewarded.failed.load', () => {

event.value += ("\n on.rewarded.failed.load");

});

document.addEventListener('on.rewarded.click', () => {

event.value += ("\n on.rewarded.click");

});

document.addEventListener('on.rewarded.dismissed', () => {

event.value += ("\n on.rewarded.dismissed");

});

document.addEventListener('on.rewarded.failed.show', () => {

event.value += ("\n on.rewarded.failed.show");

});

document.addEventListener('on.rewarded.impression', () => {

event.value += ("\n on.rewarded.impression");

});

document.addEventListener('on.rewarded.show', () => {

event.value += ("\n on.rewarded.show");

});

document.addEventListener('on.rewarded.revenue', () => {

event.value += ("\n on.rewarded.revenue");

});

document.addEventListener('on.rewarded.ad.skip', () => {

event.value += ("\n on.rewarded.ad.skip");

});


document.addEventListener('on.reward.userEarnedReward', () => {
// Give a gift to a user here
event.value += ("\n on.reward.userEarnedReward");

});



}, false);

</script>

<p> <button onclick="loadRewardedAd();">Load Rewarded Ad</button></p>
<p> <button onclick="showRewardedAd();">Show Rewarded Ad</button></p>


<p> <button onclick="cleanText();">Clean response Text</button></p>


</body>
</html>
